<?xml version="1.0"?>
<odoo>

    <record model="ir.ui.view" id="acs_card_list">
      <field name="name">卡片設定</field>
      <field name="model">acs.card</field>
      <field name="arch" type="xml">
        <tree>
            <field name="user_role"/>
            <field name="user_code"/>
            <field name="user_name"/>
            <field name="user_phone"/>
            <field name="uid"/>
            <field name="pin"/>
            <button name="action_uid_change" string="更換卡片" type="object" class="oe_highlight" confirm="確認更換卡片？"/>
            <button name="action_dispose" string="作廢" type="object" class="oe_highlight" confirm="確認將此卡片作廢？"/>
        </tree>
      </field>
    </record>
    <record model="ir.ui.view" id="acs_card_form">
        <field name="name">卡片設定</field>
        <field name="model">acs.card</field>
        <field name="arch" type="xml">
            <form string="卡片設定" duplicate="0">
            <header>
                <!-- Buttons go here-->
            </header>
            <sheet>
                <group>
                <field name="user_role"/>
                <field name="partner_id" widget="res_partner_many2one" context="{'res_partner_search_mode': 'supplier', 'show_vat': True}" placeholder="名稱、統一編號、電子郵件或參考" on_change="1" can_create="false" can_write="false" modifiers="{'readonly':[ ['status','in',['作廢'] | ['user_role','in',['員工'] ] ] ,invisibility: [ ['user_role','in',['員工'] ] }"/>
                <field name="employee_id" can_create="false" can_write="false" modifiers="{'readonly':[ ['status','in',['作廢'] | ['user_role','in',['員工'] ] ] ,invisibility: [ ['user_role','in',['廠商','客戶'] ] }"/>
                <!--
                <field name="employee_id" widget="hr_employee_many2one" context="{'hr_employee_search_mode': 'supplier', 'show_badge_id': True}" placeholder="名稱、員工編號、電子郵件或參考" on_change="1" can_create="false" can_write="false" modifiers="{'readonly':[ ['status','in',['作廢'] | ['status','in',['客戶','廠商'] ] ],'required':true}"/>
                -->
                <field name="user_code" />
                <field name="user_name" />
                <field name="user_phone"/>
                <field name="uid"/>
                <field name="pin" readonly="1"/>
                <button name="action_dispose" string="重置密碼"/>
                </group>
                <notebook>
                <page string="合約列表" >
                    <field name="contract_ids" options="{'no_create': True, 'no_create_edit': True}">
                    </field>
                </page>                
                <page string="群組列表" >
                    <field name="devicegroup_ids" options="{'no_create': True, 'no_create_edit': True}">
                    </field>
                </page>
                </notebook>
            </sheet>
            </form>
        </field>
    </record>
<!-- 
    <record model="ir.ui.view" id="acs_card_list2">
      <field name="name">客用卡片設定</field>
      <field name="model">acs.card.customer</field>
      <field name="arch" type="xml">
        <tree>
            <field name="user_role"/>
            <field name="user_code"/>
            <field name="user_name"/>
            <field name="user_phone"/>
            <field name="uid"/>
            <field name="pin"/>
            <button name="action_uid_change" string="更換卡片"/>
            <button name="action_dispose" string="作廢"/>
        </tree>
      </field>
    </record>


    <record model="ir.ui.view" id="acs_card_form2">
        <field name="name">客用卡片設定</field>
        <field name="model">acs.card.customer</field>
        <field name="arch" type="xml">
            <form string="卡片設定" duplicate="0">
            <header>
            </header>
            <sheet>
                <group>
                <field name="owner_id" options="{'no_create': True, 'no_create_edit': True ,'no_open': True,}"/>
                <field name="user_code" />
                <field name="user_name" />
                <field name="user_phone"/>
                <field name="uid"/>
                <field name="pin" readonly="1"/>
                <button name="action_dispose" string="重置密碼"/>
                </group>
                <notebook>
                <page string="合約列表" >
                    <field name="contract_ids" options="{'no_create': True, 'no_create_edit': True}">

                    </field>
                </page>
                </notebook>
            </sheet>
            </form>
        </field>
    </record> -->
</odoo>
